<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-08-19 Sun 14:27 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Computer Vision</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Jethro Kuan" />
<link rel="stylesheet" type="text/css" href="https://www.pirilampo.org/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://www.pirilampo.org/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.js"></script>
<script type="text/javascript" src="https://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Computer Vision</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga7e0ed0">1. Introduction</a></li>
<li><a href="#org1e4cc08">2. Image Formation</a>
<ul>
<li><a href="#org1754238">2.1. Geometric Primitives</a></li>
<li><a href="#org9c74fb8">2.2. 2D Transformations</a></li>
<li><a href="#org61357e7">2.3. 3D Rotations</a>
<ul>
<li><a href="#org230a180">2.3.1. Euler Angles</a></li>
<li><a href="#orge235f67">2.3.2. Axis/angle (exponential twist)</a></li>
<li><a href="#org56c7059">2.3.3. Unit Quarternions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orga7e0ed0" class="outline-2">
<h2 id="orga7e0ed0"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
Despite the advances in research in computer vision, the dream of
having a computer interpret an image at the same level of a human is
still far away. Computer vision is inherently a difficult problem, for
many reasons. First, it is an <i>inverse problem</i>, in which we seek to
recover some unknowns given insufficient information to specify the
solution. Hence, we resort to physics-based and probabilistic models
to disambiguate between potential solutions.
</p>

<p>
Forward models that we use in computer vision are usually grounded in
physics and computer graphics. Both these fields model how objects
move and animate, how light reflects off their surfaces, is scattered
by the atmosphere, refracted through camera lenses and finally
projected onto a flat image plane.
</p>

<p>
In computer vision, we want to describe the world that we see in one
or more images and to reconstruct its properties, such as shape,
illumination and color distributions. Some examples of computer vision
being used in real-world applications include Optical Character
Recognition (OCR) , machine inspection, retail, medical imaging, and
automotive safety.
</p>

<p>
In many applications, it is better to think back from the problem at
hand to suitable techniques, typical of an engineering approach. A
heavy emphasis will be placed on algorithms that are robust to noise,
and are reasonably efficient.
</p>



<div class="figure">
<p><img src="images/computer_vision/screenshot_2018-08-18_21-17-41.png" alt="screenshot_2018-08-18_21-17-41.png" />
</p>
</div>

<p>
The above figure shows a rough layout of the content of computer
vision, and we see that from top to bottom, there are increasing
levels of modeling and abstraction.
</p>
</div>
</div>

<div id="outline-container-org1e4cc08" class="outline-2">
<h2 id="org1e4cc08"><span class="section-number-2">2</span> Image Formation</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org1754238" class="outline-3">
<h3 id="org1754238"><span class="section-number-3">2.1</span> Geometric Primitives</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Geometric primitives form the basic building blocks used to describe
three-dimensional shapes.
</p>

<p>
2D points can be denoted using a pair of values, \(x = (x, y) \in
\mathbb{R}^2\):
</p>

\begin{equation}
  x = \begin{bmatrix}
    x \\
    y
  \end{bmatrix}
\end{equation}

<p>
2D points can also be represented using homogeneous coordinates,
 \(\tilde{\mathbf{x}} = (\tilde{x}, \tilde{y}, \tilde{w}) \in \mathbb{P}^2\), where vectors
 that differ only by scale are considered to be equivalent.
 \(\mathbb{P}^2 = \mathbb{R}^3 - (0, 0, 0)\) is called the <i>2D projective
 space</i>.
</p>

<p>
A homogeneous vector \(\tilde{\mathbf{x}}\) can be converted back into an
inhomogeneous vector \(\mathbf{x}\) by diving through the last element
\(\tilde{w}\).
</p>

<p>
2D lines can be represented using homogeneous coordinates
\(\tilde{\mathbf{l}} = (a, b, c)\). The corresponding line equation is:
</p>

\begin{equation}
  \bar{\mathbf{x}} \cdot \tilde{\mathbf{l}} = ax + by + c = 0
\end{equation}

<p>
The line equation vector can be normalized so that \(\mathbf{l} =
(\hat{n}_x, \hat{n}_y, d) = (\hat{\mathbf{n}}, d)\)
 with \(\lvert
\hat{\mathbf{n}} \rvert = 1\). When using homogeneous coordinates, we
can compute the intersection of two lines as 
</p>

\begin{equation}
  \tilde{\mathbf{x}} = \tilde{\mathbf{l}}_1 \times \tilde{\mathbf{l}}_2
\end{equation}

<p>
Similarly, the line joining two points can be written as:
</p>

\begin{equation}
  \tilde{\mathbf{l}} = \tilde{\mathbf{x}}_1 \times \tilde{\mathbf{x}}_2
\end{equation}

<p>
Conic sections (which arise from the intersection of a plane and a 3d
cone) can be written using a quadric equation
</p>

\begin{equation}
  \tilde{\mathbf{x}}^T\mathbf{Q}\tilde{\mathbf{x}} = 0
\end{equation}

<p>
3D points can be written using inhomogeneous coordinates \(\mathbf{x} =
(x,y,z) \in \mathbb{R}^3\), or homogeneous coordinates \(\tilde{\mathbf{x}} =
(\tilde{x}, \tilde{y}, \tilde{z}, \tilde{w}) \in \mathbb{P}^3\).
</p>

<p>
3D planes can be represented as homogeneous coordinates \(\tilde{\mathbf{m}}
= (a, b, c, d)\) with the equation:
</p>

\begin{equation}
\bar{\mathbf{x}} \cdot \tilde{\mathbf{m}} = ax + by + cz + d = 0
\end{equation}

<p>
3D lines can be represented using 2 points on the line \((\mathbf{p},
\mathbf{q})\). Any other point on the line can be expressed as a linear
combination of these 2 points.
</p>

\begin{equation}
  \mathbf{r} = (1 - \lambda)\mathbf{p} + \lambda \mathbf{q}
\end{equation}
</div>
</div>

<div id="outline-container-org9c74fb8" class="outline-3">
<h3 id="org9c74fb8"><span class="section-number-3">2.2</span> 2D Transformations</h3>
<div class="outline-text-3" id="text-2-2">
<p>
The basic primitives introduced above can be transformed, the simplest
of which occur in the 2D plane.
</p>



<div class="figure">
<p><img src="images/computer_vision/Image Formation/screenshot_2018-08-19_13-49-15.png" alt="screenshot_2018-08-19_13-49-15.png" />
</p>
</div>

<p>
2D translations can be written as \(\mathbf{x}' = \mathbf{x} +
\mathbf{t}\), or:
</p>

\begin{align}
  \mathbf{x}' &= \begin{bmatrix}
              \mathbf{I} & \mathbf{t}
              \end{bmatrix}\bar{\mathbf{x}} \\
              &= \begin{bmatrix}
                 \mathbf{I} & \mathbf{t} \\
                 \mathbf{0}^T & 1
              \end{bmatrix}\bar{\mathbf{x}}
\end{align}

<p>
where \(\mathbf{0}\) is the zero vector.
</p>

<p>
The combination of rotation and translation is known as 2D <i>rigid body
motion</i>, or the 2D Euclidean transformation, since Euclidean distances
are preserved. It can be written as \(\mathbf{x}' =
\mathbf{R}\mathbf{x} + \mathbf{t}\) or:
</p>

\begin{equation}
  \mathbf{x}' = \begin{bmatrix}
              \mathbf{R} & \mathbf{t}
              \end{bmatrix}\bar{\mathbf{x}}
\end{equation}

<p>
where
</p>

\begin{equation}
  \mathbf{R} = \begin{bmatrix}
    \cos \theta & - \sin \theta \\
    \sin \theta & \cos \theta
  \end{bmatrix}
\end{equation}

<p>
is an orthonormal rotation matrix with
\(\mathbf{R}\mathbf{R}^T=\mathbf{I}\) and \(\lVert R \rVert = 1\).
</p>

<p>
The <b>similarity transform</b>, or scaled rotation, can be expressed as
\(\mathbf{x}' = s\mathbf{R}\mathbf{x} + \mathbf{t}\). This preserves
angles between lines.
</p>

<p>
The <b>affine transformation</b> is written as \(\mathbf{x}' =
\mathbf{A}\hat{\mathbf{x}}\), where \(\mathbf{A}\) is an arbitrary \(2 \times
3\) matrix.
</p>

<p>
Parallel lines remain parallel under affine transformations.
</p>

<p>
The <b>projective transformation</b>, also known as the perspective transform
or homography, operates on homogeneous coordinates:
</p>

\begin{equation}
  \hat{\mathbf{x}}' = \tilde{\mathbf{H}}\tilde{\mathbf{x}}
\end{equation}

<p>
where \(\tilde{\mathbf{H}}\) is an arbitrary \(3 \times 3\) matrix. Note that
\(\tilde{\mathbf{H}}\) is homogeneous.
</p>

<p>
Each of these transformation preserves some properties, and can be
presented in a hierarchy.
</p>


<div class="figure">
<p><img src="images/computer_vision/Image Formation/screenshot_2018-08-19_14-02-51.png" alt="screenshot_2018-08-19_14-02-51.png" />
</p>
</div>

<p>
Some transformations that cannot be classified so easily include:
</p>

<ol class="org-ol">
<li>Stretching and Squashing</li>
<li>Planar surface flow</li>
<li>Bilinear interpolant</li>
</ol>

<p>
The set of 3D transformations are very similar to the 2D
transformations.
</p>


<div class="figure">
<p><img src="images/computer_vision/Image Formation/screenshot_2018-08-19_14-05-15.png" alt="screenshot_2018-08-19_14-05-15.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org61357e7" class="outline-3">
<h3 id="org61357e7"><span class="section-number-3">2.3</span> 3D Rotations</h3>
<div class="outline-text-3" id="text-2-3">
<p>
The biggest difference between 2D and 3D coordinate transformations is
that the parameterization of the 3D rotation matrix \(\mathbf{R}\) is
not as straightforward.
</p>
</div>

<div id="outline-container-org230a180" class="outline-4">
<h4 id="org230a180"><span class="section-number-4">2.3.1</span> Euler Angles</h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
A rotation matrix can be formed as the product of three rotations
around three cardinal axes, e.g. \(x\), \(y\), and \(z\). This is generally
a bad idea, because the result depends on the order of
transformations, and it is not always possible to move smoothly in a
parameter space.
</p>
</div>
</div>

<div id="outline-container-orge235f67" class="outline-4">
<h4 id="orge235f67"><span class="section-number-4">2.3.2</span> Axis/angle (exponential twist)</h4>
<div class="outline-text-4" id="text-2-3-2">
<p>
A rotation can be represented by a rotation axis \(\hat{\mathbf{n}}\)
and an angle \(\theta\), or equivalently by a 3D vector \(\mathbf{\omega} =
\theta\hat{\mathbf{n}}\). We can write the rotation matrix corresponding to
a rotation by \(\theta\) around an axis \(\hat{\mathbf{n}}\) as:
</p>

\begin{equation}
  \mathbf{R}(\hat{\mathbf{n}}, \theta) = \mathbf{I} + \sin \theta
  [\hat{\mathbf{n}}]_\times + \left(1-\cos\theta\right)[\hat{\mathbf{n}}]^2_\times
\end{equation}

<p>
Also known as <i>Rodriguez's formula</i>.
</p>

<p>
For small rotations, this is an excellent choice, as it simplifies to:
</p>

\begin{equation}
  \mathbf{R}(\mathbf{\omega}) \approx \mathbf{I} + \sin\theta[\hat{\mathbf{n}}]_\times = \begin{bmatrix}
    1 & -\omega_x & -\omega_y \\
    \omega_z & 1 & -\omega_x \\
    -\omega_y & \omega_x & 1
  \end{bmatrix}
\end{equation}

<p>
This gives a nice linearized relationship between the rotation
parameters \(\omega\) and \(\mathbf{R}\).  We can also compute the derivative
of \(\mathbf{R}v\) with respect to \(\omega\),
</p>

\begin{equation}
\frac{\partial \mathbf{R}v}{\partial \omega^T} = -[\mathbf{v}]_\times = \begin{bmatrix}
  0 & z & -y \\
  -z & 0 & x \\
  y & -x & 0
\end{bmatrix}
\end{equation}
</div>
</div>

<div id="outline-container-org56c7059" class="outline-4">
<h4 id="org56c7059"><span class="section-number-4">2.3.3</span> Unit Quarternions</h4>
<div class="outline-text-4" id="text-2-3-3">
<p>
A unit quarternion is a unit length 4-vector whose components can be
written as \(\mathbf{q} = (x, y, z, w)\). Unit quarternions live on the
unit sphere \(\lVert q \rVert = 1\) and antipodal quartenions, \(q\) and
\(-q\) represent the same rotation. This representation is continuous
and are very popular representations for pose and for pose
interpolation.
</p>

<p>
Quarternions can be derived from the axis/angle representation through
the formula:
</p>

\begin{equation}
  \mathbf{q} = (\mathbf{v}, w) = \left(\sin\frac{\theta}{2}\hat{\mathbf{n}}, \cos\frac{\theta}{2}\right)
\end{equation}

<p>
where \(\hat{\mathbf{n}}\) and \(\theta\) are the rotation axis and angle.
Rodriguez's formula can be converted to:
</p>

\begin{equation}
  \mathbf{R}(\hat{\mathbf{n}}, \theta) = \mathbf{I} + 2w[\mathbf{v}]_\times + 2[\mathbf{v}]^2_\times
\end{equation}

<p>
The nicest aspect of unit quarternions is that there is a simple
algebra for composing rotations expressed as unit quartenions:
</p>

\begin{equation}
  \mathbf{q}_2 = \mathbf{q}_0 \mathbf{q}_1 = (\mathbf{v}_0 \times \mathbf{v}_1 + w_0 \mathbf{v}_1 + w_1 \mathbf{v}_0, w_0 w_1 - \mathbf{v}_0 \cdot \mathbf{v}_1)
\end{equation}

<p>
The inverse of a quarternion is just flipping the sign of \(\mathbf{v}\)
or \(w\), but not both. Then quarternion division can be defined as:
</p>

\begin{equation}
  \mathbf{q}_2 = \mathbf{q}_0 / \mathbf{q}_1 = (\mathbf{v}_0 \times \mathbf{v}_1 + w_0 \mathbf{v}_1 - w_1 \mathbf{v}_0, - w_0 w_1 - \mathbf{v}_0 \cdot \mathbf{v}_1)
\end{equation}
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Jethro Kuan</p>
<p class="date">Created: 2018-08-19 Sun 14:27</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
